<!DOCTYPE html>
<html>
<title>&nbsp;</title>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />	
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>	
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
				
	<style>
		#content {
		padding: 0;
		position : absolute !important; 
		top : 40px !important;  
		//top : 60px !important;  
		right : 0; 
		//bottom : 40px !important;  
		bottom : 0px !important;  
		left : 0 !important;     
		}
	</style>
	
		
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&sensor=true"></script> -->
	<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false"></script>	
    <script src="https://google-maps-utility-library-v3.googlecode.com/svn/trunk/geolocationmarker/src/geolocationmarker-compiled.js"></script>
	<script type="text/javascript">
        // you can specify the default lat long
        var map,
            currentPositionMarker,
            mapCenter = new google.maps.LatLng(14.668626, 121.24295),
            map;

        // change the zoom if you want
        function initializeMap()
        {
            map = new google.maps.Map(document.getElementById('map_canvas'), {
               zoom: 18,
               center: mapCenter,
               mapTypeId: google.maps.MapTypeId.ROADMAP
             });
        }

        function locError(error) {
            // tell the user if the current position could not be located
            alert("The current position could not be found!");
        }

        // current position of the user
        function setCurrentPosition(pos) {
            currentPositionMarker = new google.maps.Marker({
                map: map,
                position: new google.maps.LatLng(
                    pos.coords.latitude,
                    pos.coords.longitude
                ),
                title: "Current Position"
            });
            map.panTo(new google.maps.LatLng(
                    pos.coords.latitude,
                    pos.coords.longitude
                ));
        }

        function displayAndWatch(position) {
        
            // set current position
            setCurrentPosition(position);
            
            // watch position
            watchCurrentPosition();
        }

        function watchCurrentPosition() {
            var positionTimer = navigator.geolocation.watchPosition(
                function (position) {
                    setMarkerPosition(
                        currentPositionMarker,
                        position
                    );
                });
        }

        function setMarkerPosition(marker, position) {
            marker.setPosition(
                new google.maps.LatLng(
                    position.coords.latitude,
                    position.coords.longitude)
            );
        }

        function initLocationProcedure() {
            initializeMap();
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(displayAndWatch, locError);
            } else {
                // tell the user if a browser doesn't support this amazing API
                alert("Your browser does not support the Geolocation API!");
            }
        }

        // initialize with a little help of jQuery
        $(document).ready(function() {
            initLocationProcedure();
        });
    </script>
	
</head>
	
<body>
	<div data-role="page" id="page1">
		<div data-role="panel" id="myPanel-r" data-display="overlay" data-position="right" data-theme="c">
			<ul data-role="listview" data-theme="d" data-icon="false">
				<li id="hdr" data-icon="delete" data-theme="b"><a href="#" data-rel="close">Tracking</a></li>
				<li id="siste" data-icon="check" class="ui-icon-alt" ><a href="#">Siste posisjon</a></li>
				<li id="alle" data-icon="" class="ui-icon-alt"><a href="#" >Alle posisjoner</a></li>
				<li id="linje" data-icon="home" class="ui-icon-alt"><a href="#" >Linje</a></li>
				<li id="tabell" data-icon="" class="ui-icon-alt"><a href="#page2" >Tabell</a></li>
			</ul>
		</div><!-- /panel -->
				
			
		<div data-theme="a" data-role="header">
			<a data-rel="back" data-ajax="false" data-icon="arrow-l">Tilbake</a>
			<h3>Page Header</h3>
			<a href="#myPanel-r" class="jqm-navmenu-link" data-icon="bars" data-iconpos="notext">Navigation</a>
		</div>
		
		<div data-role="content" id="content">
			<div id="result" style="height:20px; background-color:#666; color:white;padding-left:18px; font-size: 80%;">Tracking...</div>
			<div id="map_canvas" style="height:100%"></div>
		</div>
		
		<div data-theme="a" data-role="footer" data-position="fixed">
			<a id="start" class="ui-btn-left" data-icon="arrow-r" href="">Start</a>
			<h3>Tracking</h3>
			<a id="stop" class="ui-btn-right" data-icon="delete" href="">Stopp</a>
		</div>
	</div>

	
	<div data-role="page" id="page2">
		<div data-theme="a" data-role="header">
			<a data-rel="back" data-ajax="false" data-icon="arrow-l">Tilbake</a>
			<h3>Page Header</h3>
		</div>
		
		<div data-role="content" id="content2">
			content...
		</div>
		
		<div data-theme="a" data-role="footer" data-position="fixed">
			<h3>Page Footer</h3>
		</div>
	</div>	
	
</body>

</html>
